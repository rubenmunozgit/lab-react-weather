(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,function(e,t){e.exports={dateFormat:e=>{let t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),c=t.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),[c,a,n].join("-")},timeFormat:e=>{return new Date(1e3*e).toLocaleTimeString()},sunHours:e=>{const t=new Date(1e3*e);return t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()}}},,,,,,,function(e,t){const a="rgba(245, 120, 66, 1)",n="rgba(245, 182, 66, 1)",c="rgba(236, 245, 66, 1)",r="rgba(66, 245, 72, 1)",s="rgba(66, 245, 221, 1)",o="rgba(66, 239, 245, 1)";e.exports={getLinearGradient:(e,t)=>{const i=(e=>({MAX_VERYWARN:"metric"===e?40:104,MAX_WARN:"metric"===e?30:86,MAX_NORMAL:"metric"===e?20:68,MAX_COLD:"metric"===e?10:50,MAX_VERYCOLD:"metric"===e?0:32}))(t),l=i.MAX_VERYWARN,m=i.MAX_WARN,d=i.MAX_NORMAL,u=i.MAX_COLD,p=i.MAX_VERYCOLD;return e>=l?"linear-gradient(90deg, ".concat(o," 10%, ").concat(s," 30%, ").concat(r," 50%, ").concat(c," 70%, ").concat(n," 80%, ").concat(a," 100%"):m<=e&&e<l?"linear-gradient(90deg, ".concat(o," 10%, ").concat(s," 30%, ").concat(r," 50%, ").concat(c," 70%, ").concat(n," 100%"):d<=e&&e<m?"linear-gradient(90deg, ".concat(o," 10%, ").concat(s," 30%, ").concat(r," 50%, ").concat(c," 100%"):u<=e&&e<d?"linear-gradient(90deg, ".concat(o," 10%, ").concat(s," 30%, ").concat(r," 100%"):p<=e&&e<u?"linear-gradient(90deg, ".concat(o," 10%, ").concat(s," 100%"):e<p?"linear-gradient(90deg, ".concat(o," 0%, ").concat(o," 100%"):void 0}}},function(e,t,a){e.exports=a(30)},,,,,,function(e,t,a){},function(e,t,a){},,,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(7),s=a.n(r);const o=Object(n.createContext)();const i={en:{loading_Weather_Info_title:"Loading Weather Information",loading_Weather_Info_p:"Please allow access to the browser location",feels_like:"feels like",humidity:"Humity",wind:"Wind",updated:"Updated at",sunrise:"Sunrise",sunset:"Sunset",sunHours:"{0} hr of sun"},es:{loading_Weather_Info_title:"Cargando informacion del Tiempo",loading_Weather_Info_p:"Por favor, permita el acceso de la ubicacion en el navegador",feels_like:"sensacion de",humidity:"Humedad",wind:"Viento",updated:"Actualizado a las",sunrise:"Salida",sunset:"Puesta",sunHours:"{0} hrs de sol"}};var l={openWeatherUrl:"https://api.openweathermap.org/data/2.5/",openWeatherApiKey:"7289e9613cb8f800099af227a5133275"},m=a(3),d=a.n(m),u=a(4);var p=function(){var e=Object(u.a)(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!navigator.geolocation){e.next=4;break}return e.abrupt("return",new Promise((e,t)=>navigator.geolocation.getCurrentPosition(e,t)));case 4:return e.abrupt("return",new Promise(e=>e({})));case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();var h=function(){var e=Object(u.a)(d.a.mark(function e(t){var a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return a=e.sent,e.abrupt("return",a.json());case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),g=a(5),v=a(2);var E=e=>{const t=e.map(e=>({date:Object(v.dateFormat)(e.dt_txt.replace(/-/g,"/")),temp:e.main.temp})).reduce((e,t)=>{const a=e[t.date]||{date:e[t.date],temps:[]};return a.date=t.date,a.temps.push(t.temp),e[t.date]=a,e},{});return Object.keys(t).map(e=>({date:e,temps:t[e].temps})).map(e=>e.temps.reduce((t,a)=>(t.date=e.date,t.min=void 0===t.min||a<t.min?a:t.min,t.max=void 0===t.max||a>t.max?a:t.max,t),{}))};var f=e=>{const t=Object(g.a)(e,2),a=t[0],n=t[1],c=a.main,r=c.temp,s=c.feels_like,o=c.temp_max,i=c.temp_min,l=c.humidity,m=Object(g.a)(a.weather,1)[0],d=m.description,u=m.id,p=a.wind.speed,h=a.sys,f=h.country,_=h.sunrise,b=h.sunset,w=a.dt,N=a.name,x=a.coord,y=x.lat,W=x.lon,O=n.list;return{currentWeather:{temperature:r,feels_like:s,temp_max:o,temp_min:i,humidity:l,description:d,icon:u,wiSpeed:p,dt:Object(v.timeFormat)(w)},forecast:{list:E(O)},system:{country:f,city:N,sunHours:{sunrise:Object(v.timeFormat)(_),sunset:Object(v.timeFormat)(b),sunHours:Object(v.sunHours)(b-_)},geo:{lat:y,lon:W}}}};a(16);var _=()=>{const e=Object(n.useContext)(o).translatedText;return c.a.createElement("div",null,c.a.createElement("h1",null,e.loading_Weather_Info_title),c.a.createElement("p",null,e.loading_Weather_Info_p))},b=a(8),w=a.n(b);a(17);var N=e=>{const t=Object(n.useContext)(o).translatedText,a=e.temperature,r=e.feels_like,s=e.humidity,i=e.description,l=e.icon,m=e.wiSpeed,d=e.city,u=e.country,p=e.dt,h=e.sunHours,g=e.settings,v=e.refresh,E="metric"===g?"m/s":"mi/h",f=h.sunHours;return c.a.createElement("div",{className:"Current"},c.a.createElement("div",{className:"Country_City"},c.a.createElement("div",null,"".concat(d,", ").concat(u)),c.a.createElement("button",{onClick:v},"\u27f3")),c.a.createElement("div",{className:"Weather"},c.a.createElement("div",{className:"Temp"},c.a.createElement("div",{className:"Temp__Current"},a,"\xba"),c.a.createElement("div",{className:"Temp__Feels"},t.feels_like,": ",r,"\xba")),c.a.createElement("div",{className:"Icon"},c.a.createElement("div",{className:"Icon_Image"},c.a.createElement("i",{className:"owf owf-".concat(l," owf-8x")})),c.a.createElement("div",{className:"Description"},i))),c.a.createElement("div",{className:"Details"},c.a.createElement("div",{className:"Humidity"},t.humidity,": ",s,"%"),c.a.createElement("div",{className:"Wind"},t.wind,": ",m," ",E),c.a.createElement("div",{className:"Update"},t.updated,": ",p),c.a.createElement("div",{className:"SunHours"},c.a.createElement("div",{className:"extra__sun"},c.a.createElement("div",{className:"extra__sunrise"},t.sunrise,": ",h.sunrise),c.a.createElement("div",{className:"extra__sunset"},t.sunset,": ",h.sunset)),c.a.createElement("div",null,w()(t.sunHours,[f])))))},x=a(1),y=a.n(x),W=(a(19),a(20),a(21),a(22),a(23),a(24),a(25),a(26),a(9));var O=e=>{const t=e.list,a=e.settings,r=Object(n.useContext)(o).lang;return y.a.locale(r),c.a.createElement("div",{className:"Forecast"},c.a.createElement("div",{className:"graphic"},((e,t)=>{const a=e.map(e=>e.max).reduce((e,t)=>Math.max(e,t));return e.map(e=>{const n=e.max/a*80;return c.a.createElement("div",{key:e.date,className:"row"},c.a.createElement("h6",null,y()(e.date).format("ddd, Do")),c.a.createElement("div",{className:"dayForecast"},c.a.createElement("span",{className:"min"},e.min),c.a.createElement("span",{className:"max",style:{width:"".concat(n,"%"),background:Object(W.getLinearGradient)(e.max,t)}},e.max)))})})(t,a)))};a(27);var k=({isF:e,handleToggle:t})=>c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"mesureLabel"},"C"),c.a.createElement("input",{checked:e,onChange:t,className:"react-switch-checkbox",id:"react-switch-new",type:"checkbox"}),c.a.createElement("label",{className:"react-switch-label",htmlFor:"react-switch-new"},c.a.createElement("span",{className:"react-switch-button"})),c.a.createElement("span",{className:"mesureLabel"},"F"));a(28);var A=class extends n.Component{constructor(...e){super(...e),this.state={isExpanded:!1},this.handleOpen=(()=>{const e=this.state.isExpanded;this.setState({isExpanded:!e})})}render(){const e=this.state.isExpanded,t=this.props,a=t.handleToggleChange,n=t.isF;return c.a.createElement("nav",{className:"Nav"},c.a.createElement("div",{className:"navbar-home"},c.a.createElement("button",{className:"toggle",onClick:this.handleOpen},"\u2630")),c.a.createElement("ul",{className:"navbar-links "+(e?"opened":"")},c.a.createElement("li",{className:"navbar-link"},c.a.createElement(k,{isF:n,handleToggle:a}))))}};a(29);const C=navigator.language?navigator.language.slice(0,2):"en",j={lang:C,translatedText:i[C]};class D extends c.a.Component{constructor(...e){super(...e),this.state={loading:!0,settings:"metric",weatherData:{currentWeather:[],forecast:[],system:[]}},this.handleToggle=(e=>{const t=e.target.checked;this.setState({settings:!0===t?"imperial":"metric"})}),this.handleRefresh=(()=>{const e=this.state,t=e.weatherData.system.geo,a=t.lat,n=t.lon,c=e.settings,r="".concat(l.openWeatherUrl,"weather?lat=").concat(a,"&lon=").concat(n,"&units=").concat(c,"&lang=").concat(C,"&appid=").concat(l.openWeatherApiKey),s="".concat(l.openWeatherUrl,"forecast?lat=").concat(a,"&lon=").concat(n,"&units=").concat(c,"&lang=").concat(C,"&appid=").concat(l.openWeatherApiKey);try{Promise.all([h(r),h(s)]).then(e=>f(e)).then(e=>{this.setState({weatherData:e,loading:!1})})}catch(o){console.log(o)}})}componentDidMount(){const e=this.state.settings;p().then(e=>({lat:e.coords.latitude,long:e.coords.longitude})).then(t=>{const a="".concat(l.openWeatherUrl,"weather?lat=").concat(t.lat,"&lon=").concat(t.long,"&units=").concat(e,"&lang=").concat(C,"&appid=").concat(l.openWeatherApiKey),n="".concat(l.openWeatherUrl,"forecast?lat=").concat(t.lat,"&lon=").concat(t.long,"&units=").concat(e,"&lang=").concat(C,"&appid=").concat(l.openWeatherApiKey);return Promise.all([h(a),h(n)])}).then(e=>f(e)).then(e=>{this.setState({weatherData:e,loading:!1})}).catch(e=>console.log("there was an error: ".concat(e.code," ; ").concat(e.message)))}componentDidUpdate(e,t){t.settings!==this.state.settings&&this.handleRefresh()}render(){const e=this.state,t=e.loading,a=e.settings,n=e.weatherData,r=n.currentWeather,s=n.system,i=n.forecast,l="metric"!==a;return t?c.a.createElement(o.Provider,{value:j},c.a.createElement(_,null)):c.a.createElement(o.Provider,{value:j},c.a.createElement("div",{className:"background"},c.a.createElement("div",{className:"grid-container"},c.a.createElement(A,{isF:l,handleToggleChange:this.handleToggle}),c.a.createElement(N,Object.assign({},r,s,{settings:a,refresh:this.handleRefresh})),c.a.createElement(O,Object.assign({},i,{settings:a})))))}}const F=document.getElementById("root");s.a.render(c.a.createElement(D,null),F)}],[[10,1,2]]]);
//# sourceMappingURL=main.16c34580.chunk.js.map